var initCubeSlider=function(t){var e=Object.assign({row:2,col:3,size:100,interval:2500,delay:50,transition:500,controls:!1,quality:2},t),a=e.size,n=e.row*a,r=e.col*a,s=document.querySelector(e.el);s.style.height=n+"px",s.style.width=r+"px";var l=e.slides.length;if(l){l=l<7?l:6;var i=e.quality;(i<1||i>5)&&(i=2);var d=[],c=[],o=document.createElement("canvas");o.height=n*i,o.width=r*i;for(var v=o.getContext("2d"),u=[["translateZ(","px)"],["translateZ(-","px) rotateY(-90deg)"],["translateZ(-","px) rotateY(180deg)"],["translateZ(-","px) rotateY(90deg)"],["translateZ(-","px) rotateX(90deg)"],["translateZ(-","px) rotateX(-90deg)"]],p=1,h=void 0,f=function(){++p>l&&(p=1);var t=1===p?l:p-1;s.classList.remove("slide-"+t),s.classList.add("slide-"+p)},m=function(){var t=document.createElement("div");t.classList.add("ctrl-panel");var a=document.createElement("span");a.classList.add("ctrl"),a.classList.add("left"),a.addEventListener("click",function(){var t;1!==l&&(clearInterval(h),t=1===p?l:p-1,s.classList.remove("slide-"+p),s.classList.add("slide-"+t),--p<1&&(p=l),h=setInterval(f,e.interval))}),t.appendChild(a);var n=document.createElement("span");n.classList.add("ctrl"),n.classList.add("right"),n.addEventListener("click",function(){1!==l&&(clearInterval(h),f(),h=setInterval(f,e.interval))}),t.appendChild(n),s.appendChild(t)},g=function(t,n){var r=document.createElement("div");r.classList.add("cube"),r.style.height=a+"px",r.style.width=a+"px",r.style.transition="transform "+e.transition/1e3+"s";for(var s=0;s<t;s++){var l=document.createElement("canvas");l.height=a*i,l.width=a*i,l.getContext("2d").putImageData(d[s][n],0,0),100===a&&1===i||(l.style.transform=u[s][0]+a/2+u[s][1]),l.classList.add("side"),r.appendChild(l)}return r},y=function(){for(var t=0;t<e.row*e.col;t++){var a=g(l,t);a.style.transitionDelay=t*(e.delay/1e3)+"s",s.appendChild(a)}d=void 0,c=void 0,e.controls&&m(),l>1&&(h=setInterval(f,e.interval))},L=function(t,s){v.drawImage(t,0,0,r*i,n*i);var l=[];for(s=0;s<e.row;s++)for(var c=0;c<e.col;c++)l.push(v.getImageData(a*c*i,a*s*i,a*i,a*i));d.push(l),v.clearRect(0,0,n,r)},x=(h=function(t){var e=new Image;e.src=t,e.onload=function(){!function(t){if(c.push(t),c.length===l){for(var e=0;e<l;e++)L(c[e],e);y()}}(e)}},0);x<l;x++)h(e.slides[x])}};